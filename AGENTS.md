## 重要
 すべての出力は**必ず**日本語で行うこと
 変更を加えた際はそのログをlog.mdに随時記述し、後のデバッグ作業に役立てること
 このウェブサイトは**スマホファースト**。モバイルのレイアウトに注目して編集すること。
 必ず編集後にはgit pushすること。
 
## Visual QA Agent
**Role:** 視覚回帰テストの実行・評価・軽微差分の自動ベースライン更新・重大差分の原因推定と修正提案。  
**Entry Prompt:** `prompts/visual-audit.md` をロードして実行。

### Capabilities
- コマンド実行: `npm run dev`, `npm run visual:check`
- ファイル操作: `reports/` の参照、`baseline` の安全更新
- スクリプト改修: `scripts/visual-check.mjs` の最小修正（待機/無効化CSS等）
- レポート作成: 差分率・原因仮説・優先度・提案コミット

### Operating Loop
1. `prompts/visual-audit.md` を読み込み、手順に従い実行。
2. 失敗時はプロンプトの「失敗時の自己修復」に準拠し再試行（最大2回）。
3. 出力形式に沿ってサマリを生成。
4. 変更が発生した場合は提案コミットメッセージを提示。

### Safety & Conventions
- 画像の直接インライン出力は行わない。パスと数値で報告。
- ベースライン更新は「自動更新しきい値」未満のみ。閾値はプロンプトで管理。
- 重大差分の修正は最小・可逆（差分PR前提）。理由と影響範囲を明示。

