(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const n of c)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function d(c){const n={};return c.integrity&&(n.integrity=c.integrity),c.referrerPolicy&&(n.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?n.credentials="include":c.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(c){if(c.ep)return;c.ep=!0;const n=d(c);fetch(c.href,n)}})();const te=s=>Math.max(0,Math.min(1,s)),X=s=>{if(!s)return null;const r=s.match(/rgba?\(([^)]+)\)/);if(!r)return null;const d=r[1].split(",").map(i=>i.trim());if(d.length<3)return null;const a=Number(d[0]),c=Number(d[1]),n=Number(d[2]),o=d[3]!==void 0?Number(d[3]):1;return[a,c,n,o].some(i=>Number.isNaN(i))?null:{r:a,g:c,b:n,a:o}},B=(s,r=0)=>{if(!s||r>10)return X(getComputedStyle(document.body).backgroundColor)||{r:255,g:255,b:255,a:1};const d=getComputedStyle(s),a=X(d.backgroundColor);return a&&a.a>0&&d.backgroundImage==="none"?a:B(s.parentElement,r+1)},oe=(s,r,d=[],a)=>{if(a){const o=a.getBoundingClientRect();if(s>=o.left&&s<=o.right&&r>=o.top&&r<=o.bottom){const i=X(getComputedStyle(a).backgroundColor);if(i)return i}}const c=[];d.forEach(o=>{o instanceof Element&&(c.push({element:o,previous:o.style.pointerEvents}),o.style.pointerEvents="none")});let n=null;try{n=document.elementFromPoint(s,r)}catch{n=null}finally{c.forEach(({element:o,previous:i})=>{o.style.pointerEvents=i})}return B(n)||B(document.body)},ue=(s,r)=>{let d=r-s;for(;d>180;)d-=360;for(;d<-180;)d+=360;return d},M=s=>{const r=(s%360+360)%360;return r>180?r-360:r};function pe(s,r){if(!s||!r)return()=>{};let d=0,a=!1;return()=>{const n=s.getBoundingClientRect(),o=window.innerHeight||r.getBoundingClientRect().height||1,i=te(-n.top/o);if(Math.abs(i-d)>.001){d=i;const u=d.toFixed(4);s.style.setProperty("--hero-progress",u);const g=Math.round(255*d),m=`rgb(${g}, ${g}, ${g})`;s.style.setProperty("--hero-backdrop-color",m)}const l=d>=.98;l!==a&&(a=l,s.classList.toggle("is-released",a),s.classList.toggle("is-dismissed",a))}}const $="data:image/webp;base64,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",me="data:image/webp;base64,UklGRmgHAABXRUJQVlA4WAoAAAAQAAAA/QEAJgEAQUxQSEQEAAABCUdu20gSZPs2/39xpSrpbc4R/Z8A/tQ8SyJ5lAXRg7zwYZK+TW+hz9IbmDxIK+jfsYGMaEY9V5qw7IG0XJEBj5hok8JFQD2XDQMUNgngSuAe9HxgGxu8GdSIN8I1vkrlzpv6HqlUeJPCqy5QQY5qbUpJU3ZFjgRIHGs/4irP8LokiXSim7jB73Y+YVklPEFGfMaBJDQQJR13IAGNkSTUdiGpQ1JEnmAg0CJYEpn5PyHBbSNJktL/f7T2Pisj7Miq6ogJgARJbtwGDusWIwIgAJ76r0v4v4//8PEfygD8CBJ86KdA9m7J3+Gw+ycfHvv+G19cHg5puO/nv8ylPSMKyXO8xqf+wQGE7+77+cuH/fiN37/xP/3GH39bLC137/gL/wxT+O7ol37s++988bFwIhL4ZuE/ZjR5UpeepxNhyJiNZCr0U9L+oTdD5bYwxXT44xJ9/N7+tOQskw5PPoqnE1zU1jIAlpo074sBVrrEnIM/J9mkWuowrd+gdZF99BeWHuFryuVhRZI/OQR3lR/St4Sr88M3QWBudVIm90vkPlyftTE03z8nNnv47/iNyYfXaWKfE4+VfGF9VG4Vh8OcUfCoL62Y9Wksy7/6WkYoYbgkZtEXNmv4g+cqGxWylhmYgbc93d2Q1L1vs7mmF43UAVAObRIW10MbrLoyALN3kmVaKYte8IRucA87JvSR/dVxWLwGp0LYsCHYC5dSIFnhZw2oqB6zkypNwRhP3cALVx+pUDNfIbiwhL+IESCKYWY3NAN/YhbPo9S2Sq4+kojLfriCcfyEmnkd+HXoeB6mttWouStcogEfqCsjooLFsul6BGgY4/9C5/kJYVwMMgQ8iiPhCSR7k8TnASba6QvYm0zwHCRL9SlbOWne1cSnpTkYXCPS0VSyESehnCvF23mmBcSIbyXQOGrEg+mn1kCwXQl06kshIP/+nSXK+Xyp4y4mOJOPfWFZYGq9MoIbYuXY7YWXC9gMEox/fzgDJTNSGsfq6y+9y3zxllOkiaPFFnImNmQb6zldrr4+lJkJgfSNd+SQs+0yPf7TywZZF9KfWUYhjCoJJ2Jg1scOhYUiVrHsMdF0m04ySFxdL2E2EZvzKyAv2p5iEmOkWO8+DBFVCHwkltYuRlyvHXKZVewp2UEeuFbzop+0JNclfXnoMtTsi43MiKE8125yd4WdPIlIpMRMsQJcx5uM5ihefCKuxDn6lW47NXZoj7SrleGFqpXw1yyk3p4tFowZcJm3lH6lNrrlVbT5z2Zop61Uyl6QqsrC/IE3rJlrk94SUIquH9gdJRKVNSZ+kxsdEEqSXJQVv4TYjH89RXzxpR2TSLyaB5PoRsmFpUYUlwQnySoKSQ9X0jdn80urQgvdVYZr19MoMaTJa+OkTxMGrRpV2JktkIH5CgcHF1J9wj/ICz0gZg3de8mS4Nf9JPl1X1nC/338h3cHWABWUDgg/gIAALBFAJ0BKv4BJwE+bTCVR6QioiEpXigAgA2JaW7hcG4A/gH4AfoB/AP38PynrJlHfeAP4B+AH6AfwD9/e/wTFwZCAlgh2VDIQEsEOyoZCAlgh1T7uW7KiTsFw7KhkICWCHZUMhASwPORjzyFIo02iHZUMhASwQ7KhkICVTI5DmiM5SwQ7KhkICWCHZUMg7KoidB8F3qZUMhASwQ7KhkICJvu6XZszamHZSwQ7KhkICWCGpadiJou4MhASwQ7KhkICV/SOmtQV3L08BUXUyoZB11EuTDsqGQdatMDC0e3HXLc6cJu0fBdSp93MBjNLKWB44lVMIW45ftXTsnLh4HoiXCaB3ltjkEY5RY5SJWuDH7kIHFTvJheeCnfPZq7F3OsWXV4QXEOJbaUePsl+oEP6/Mb5NUXTS0i3rJx2hTznKkX3N/BqOdS5mJ6uIeKZ6tLHyjXKLpgtXoqu1Mf+pSPonA5cgjdXfU1GYQ/UmF52uWCHZDCbn4AJL2jTeyULZbhzkwiWGDOW/XBv+RXOEBK/dSLOnCbluyok7AO2lf9L66f8jHi8tbVJqICVaSlLKWCGgtgNKEoqO6XItYok1Az7Xz+gjXQrdwYkKZFr9fTbUi+W4NxWmBJYOp2dqAiCweE6+jTewqBoEwxxMCWnZVCFIo7NtEuPBtiTmBR2MaPYrQfTMucIAJL2i0HEBORwPREq6it9KOyoZACmYqFp3gd1NIYMMJLYIdlQyEBLBDsqGQgIzJUXA8AAPy/8Gx4gy9vBteHSFv4edH7iS+HSIL4dIAKA/NHaQ8/DrQ+IA/ERc8OzXxBl7h/8QYzCHxEzfEGMtMfDyT4gxljO8QLfWfiJL+IFvkt8QYzCHxHP8QYzJviJC+Inwswvh8X4eJfD0/xLP4kiK5H4ldrorw6p47w/EdXxLP4kP+HsQ9unxBjLDOHwF8RDH4eueJXvjNeHfTw/H8Q9D8Qd+H1VJeHw9q8Q9a8PY/D0XxLP4iMniHS38RRniHWV4h4t8SW+IdAAAA=";function fe(s,r,d){if(!s||!r)return()=>{};let a="default";r.dataset.srcDefault=$,r.dataset.srcLight=$,r.dataset.srcDark=me;const c=i=>{const l=r.dataset,u=`src${i.charAt(0).toUpperCase()}${i.slice(1)}`,m=[l[u],l.srcDefault,l.srcLight,l.srcDark].find(p=>typeof p=="string"&&p.trim().length>0);if(!m)return"";try{return new URL(m,window.location.href).href}catch{return m}},n=i=>{const l=c(i);!l||r.src===l||(r.src=l,a=i)};return n("default"),()=>{const i=s.getBoundingClientRect(),l=i.left+i.width/2,u=i.top+i.height/2,g=oe(l,u,[s],d),{r:m,g:p,b}=g||{r:255,g:255,b:255},h=(.2126*m+.7152*p+.0722*b)/255;let e;h>=.65?e="light":h<=.35?e="dark":e="mid",s.dataset.theme!==e&&(s.dataset.theme=e);const E=e==="dark"?"dark":e==="light"?"light":"default";a!==E&&n(E)}}function ge(s,r,d,a,c){const n=s,o=n.querySelector("[data-nav-wheel]"),i=n.querySelector(".js-nav-backdrop");if(!o)return;const l=Array.from(o.querySelectorAll("[data-nav-item]"));if(!l.length)return;let u=n.querySelector(".js-nav-guide");u||(u=document.createElement("div"),u.className="nav-circular__guide js-nav-guide",n.appendChild(u));const g={isOpen:!1},m=24,p=360-m,b=-8,h=M(b-180),e={rotation:0,lastAngle:0,pointerId:null,isDragging:!1,startRotation:0,didDrag:!1,radius:0,snapTimer:null,hideTimer:null,resizeTimer:null,baseAngles:[],step:0,gapAngle:m,arcSpan:p,targetAngleOffset:h,displayOffset:b};if(l.length===1)e.baseAngles=[0],e.step=360;else{e.step=-360/l.length,e.baseAngles=l.map((_,O)=>O*e.step);const t=-150,v=(e.baseAngles[l.length-1]??0)+e.step/2;e.rotation=M(t-v+e.targetAngleOffset);const S=e.baseAngles[0],I=M(S+e.rotation+e.displayOffset),L=M(e.targetAngleOffset-I);e.rotation+=L}let E=null,w=!1;const y=t=>{g.isOpen&&(t.preventDefault(),t.stopPropagation())},C=n.querySelectorAll("[data-nav-close]");r.addEventListener("click",()=>{r.getAttribute("aria-expanded")==="true"?k():P()}),C.forEach(t=>{t.addEventListener("click",()=>{k()})}),n.addEventListener("transitionend",t=>{t.target!==n||t.propertyName!=="opacity"||g.isOpen||(n.hidden=!0,n.setAttribute("aria-hidden","true"))}),o.addEventListener("pointerdown",j),o.addEventListener("pointermove",re),o.addEventListener("pointerup",q),o.addEventListener("pointercancel",q),o.addEventListener("pointerleave",q),o.addEventListener("wheel",ne,{passive:!1}),window.addEventListener("resize",se),l.forEach(t=>{t.addEventListener("click",f=>{if(e.didDrag){e.didDrag=!1;return}f.preventDefault();const v=t.getAttribute("data-target");if(v){const S=document.querySelector(v);S&&(a&&a.handleManualTrigger(v),S.scrollIntoView({behavior:"smooth",block:"start"}))}k()})});const A=()=>{const t=r.getBoundingClientRect();if(!t.width||!t.height)return;const f=document.querySelectorAll("img");let v=0;const S=t.width*t.height;for(const T of f){const R=T.getBoundingClientRect();if(R.bottom>t.top&&R.top<t.bottom&&R.right>t.left&&R.left<t.right){const U=Math.max(t.left,R.left),N=Math.max(t.top,R.top),F=Math.min(t.right,R.right),ae=Math.min(t.bottom,R.bottom),ce=Math.max(0,F-U),de=Math.max(0,ae-N),K=ce*de/S;K>v&&(v=K)}}if(v>=.5){r.classList.add("is-inverted");return}const I=t.left+t.width/2,L=t.top+t.height/2,_=oe(I,L,[r],c),{r:O,g:Y,b:x}=_||{r:255,g:255,b:255},H=(.2126*O+.7152*Y+.0722*x)/255<=.35;r.classList.toggle("is-inverted",H)};function P(){g.isOpen||(E=document.activeElement instanceof HTMLElement?document.activeElement:null,n.hidden=!1,n.setAttribute("aria-hidden","false"),requestAnimationFrame(()=>{n.classList.add("is-visible"),requestAnimationFrame(()=>{J(!0)})}),g.isOpen=!0,d.setAttribute("data-hidden","false"),document.body.classList.add("nav-open"),document.body.style.setProperty("overflow","hidden"),n.addEventListener("wheel",y,{passive:!1}),n.addEventListener("touchmove",y,{passive:!1}),o.addEventListener("touchmove",y,{passive:!1}),i?.addEventListener("touchmove",y,{passive:!1}),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label","メニューを閉じる"),A(),V(),document.addEventListener("keydown",Q),le())}function k(){g.isOpen&&(g.isOpen=!1,n.classList.remove("is-visible"),n.setAttribute("aria-hidden","true"),r.setAttribute("aria-expanded","false"),r.setAttribute("aria-label","メニューを開く"),document.body.classList.remove("nav-open"),document.body.style.removeProperty("overflow"),n.removeEventListener("wheel",y,{passive:!1}),n.removeEventListener("touchmove",y,{passive:!1}),o.removeEventListener("touchmove",y,{passive:!1}),i?.removeEventListener("touchmove",y,{passive:!1}),document.removeEventListener("keydown",Q),o.classList.remove("is-dragging"),e.isDragging=!1,e.pointerId=null,e.didDrag=!1,window.clearTimeout(e.snapTimer),window.clearTimeout(e.resizeTimer),window.clearTimeout(e.hideTimer),e.snapTimer=null,e.resizeTimer=null,e.hideTimer=window.setTimeout(()=>{g.isOpen||(n.hidden=!0,n.setAttribute("aria-hidden","true"))},260),E&&typeof E.focus=="function"?E.focus({preventScroll:!0}):r.focus({preventScroll:!0}),A())}function Q(t){if(g.isOpen){if(t.key==="Escape"){t.preventDefault(),k();return}t.key==="ArrowRight"||t.key==="ArrowDown"?(t.preventDefault(),W(-e.step)):(t.key==="ArrowLeft"||t.key==="ArrowUp")&&(t.preventDefault(),W(e.step))}}function j(t){t.pointerType==="mouse"&&t.button!==0||(e.isDragging=!0,e.pointerId=t.pointerId,e.startRotation=e.rotation,e.lastAngle=z(t),e.didDrag=!1,o.classList.add("is-dragging"),o.setPointerCapture&&o.setPointerCapture(t.pointerId))}function re(t){if(!e.isDragging||e.pointerId!==t.pointerId)return;const f=z(t);if(Number.isNaN(f))return;const v=ue(e.lastAngle,f);e.rotation+=v,e.lastAngle=f,Math.abs(e.rotation-e.startRotation)>e.step*.08&&(e.didDrag=!0),J()}function q(t){!e.isDragging||e.pointerId!==null&&e.pointerId!==t.pointerId||(e.isDragging=!1,e.pointerId=null,o.classList.remove("is-dragging"),o.releasePointerCapture&&t.pointerId!==void 0&&o.releasePointerCapture(t.pointerId),Z(),e.didDrag=!1)}function ne(t){t.preventDefault();const f=Math.abs(t.deltaY)>Math.abs(t.deltaX)?t.deltaY:t.deltaX;Number.isNaN(f)||(e.rotation+=f*.22,e.didDrag=!0,J())}function se(){g.isOpen&&(window.clearTimeout(e.resizeTimer),e.resizeTimer=window.setTimeout(()=>{e.radius=0,J(!0)},140))}function W(t){e.rotation+=t,e.didDrag=!0,J(),ie()}function ie(){window.clearTimeout(e.snapTimer),e.snapTimer=window.setTimeout(()=>{Z(),e.didDrag=!1},260)}function Z(){const t=D();if(t===null)return;const f=e.baseAngles[t],v=M(f+e.rotation+e.displayOffset-e.targetAngleOffset);e.rotation-=v,J(),V()}function V(){const t=D(),f=l[t]||l[0];f&&f.focus({preventScroll:!0})}function J(t=!1){const f=o.getBoundingClientRect();if(!f.width||!f.height)return;(t||!e.radius)&&(e.radius=Math.max(f.width/2-100,f.width*.46));const v=D(),S=Math.abs(e.step)||1;l.forEach((L,_)=>{const x=(e.baseAngles[_]??0)+e.rotation+e.displayOffset,G=Math.abs(M(x-e.targetAngleOffset)),H=Math.max(0,1-Math.min(G/(S*1.1),1)),T=_===v,R=T?1.06:.84+H*.22,U=T?1:.85,N=Math.max(e.radius*.75,e.radius-60),F=`translate(-50%, -40%) rotate(${x.toFixed(3)}deg) translateX(${N.toFixed(3)}px) rotate(${(180-e.displayOffset).toFixed(3)}deg) scale(${R.toFixed(3)})`;L.style.transform=F,L.style.opacity=U,L.style.zIndex=String(100+Math.round(H*100)),L.classList.toggle("is-active",T),L.setAttribute("tabindex",T?"0":"-1")});const I=L=>(L%360+360)%360;if(l.length>=2){const _=e.baseAngles[0]??0,O=I(_+e.rotation+e.displayOffset+-20),Y=I(O+e.step/2),x=I(Y+e.gapAngle/2+105);o.style.setProperty("--nav-arc-start",`${x}deg`)}o.style.setProperty("--nav-arc-span",`${e.arcSpan}deg`)}function D(){let t=0,f=Number.POSITIVE_INFINITY;return l.forEach((v,S)=>{const I=e.baseAngles[S]+e.rotation+e.displayOffset,L=Math.abs(M(I-e.targetAngleOffset));L<f&&(f=L,t=S)}),t}function z(t){const f=o.getBoundingClientRect(),v=f.left+f.width/2,S=f.top+f.height/2;return Math.atan2(t.clientY-S,t.clientX-v)*(180/Math.PI)}function le(){if(w||!u)return;const t=window.matchMedia("(max-width: 600px)").matches;u.textContent=t?"左右スワイプで選択、タップで決定、外側タップか×で閉じる":"←/→ で移動、Enterで決定、Escで閉じる",u.classList.add("is-visible"),w=!0,window.setTimeout(()=>{u?.classList.remove("is-visible")},2800)}return{evaluateMenuToggleContrast:A}}function he(){const s=[...document.querySelectorAll(".js-about-heading, .js-about-text, .js-about-image, .js-person-card, .js-note-card, .js-scroll-top, .js-scroll-bottom")],r=document.querySelector(".js-note-card"),d=new Set(["js-note-card","js-scroll-top","js-scroll-bottom"].map(u=>`.${u}`).flatMap(u=>Array.from(document.querySelectorAll(u))));if(!s.length)return;const a=window.matchMedia("(prefers-reduced-motion: reduce)"),c=document.querySelector('.js-person-card[data-person="haruto"]'),n=document.querySelector('.js-person-card[data-person="riko"]'),o=(u,g,m,p)=>{const b=u.getBoundingClientRect(),h=b.top+b.height/2,e=Math.max(0,h-m);return te(1-e/p)},i=()=>{if(a.matches||!document.body.classList.contains("has-scroll-reveal")){s.forEach(h=>h.style.removeProperty("--scroll-fade-progress"));return}const u=window.innerHeight||1,g=u*.65,m=Math.max(1,u*.35),p=c&&c.isConnected?o(c,u,g,m):null,b=r&&r.isConnected?o(r,u,g,m):null;s.forEach(h=>{let e;p!==null&&(h===c||h===n)?e=p:b!==null&&d.has(h)?e=b:e=o(h,u,g,m),h.style.setProperty("--scroll-fade-progress",e.toFixed(3))})},l=()=>{a.matches?(document.body.classList.remove("has-scroll-reveal"),s.forEach(u=>u.style.removeProperty("--scroll-fade-progress"))):(document.body.classList.add("has-scroll-reveal"),i())};l(),a.addEventListener("change",l),window.addEventListener("scroll",()=>{window.requestAnimationFrame(i)},{passive:!0}),window.addEventListener("resize",()=>{window.requestAnimationFrame(i)}),i()}function be(){const s=Array.from(document.querySelectorAll(".js-person-card")),r=new Map;if(s.length&&r.set("#greetings",{elements:s,timer:null}),!r.size)return null;const d="anchor-jump-visible",a=1200,c=o=>{if(typeof o!="string"||!r.has(o))return;const i=r.get(o);i&&(window.clearTimeout(i.timer),i.elements.forEach(l=>l.classList.add(d)),i.timer=window.setTimeout(()=>{i.elements.forEach(l=>l.classList.remove(d))},a))},n=o=>{const i=o.target instanceof Element?o.target:null;if(!i)return;const l=i.closest('a[href^="#"]');if(!l)return;const u=l.getAttribute("href");c(u)};return document.addEventListener("click",n,!0),window.addEventListener("hashchange",()=>{c(window.location.hash)}),window.addEventListener("load",()=>{c(window.location.hash)}),{handleManualTrigger:o=>{c(o)}}}function we(){const s=document.querySelector(".js-walking-person"),r=document.querySelector(".js-circle"),d=document.querySelector(".js-floor");if(!s||!r||!d)return;let a="idle",c=-1;const n=280,o=18e3,i=n/360*o,l=2e3,u=.4,g=6,m=()=>s.getBoundingClientRect(),p={y:0,v:0};function b(){const A=r.getBoundingClientRect();return A.top+A.height-85}function h(A){const P=(A-w)%o;return P>=i-120&&P<=i+120}function e(){a="idle",p.y=0,p.v=0,s.style.transform="translate(-50%, 0)"}function E(A){s.style.transform=`translate(-50%, ${A}px)`}const w=performance.now();let y=w;function C(A){const P=Math.min(32,A-y)/1e3;if(y=A,a==="idle"){const k=Math.floor((A-w)/o);h(A)&&k!==c&&(a="falling",c=k,p.y=0,p.v=0)}else if(a==="falling"){const k=m();p.v+=l*P,p.y+=p.v*P;const Q=b();k.bottom+p.y>=Q&&(p.y=Q-k.bottom,p.v=-p.v*u,Math.abs(p.v)<g&&(a="settled",p.v=0,p.y=Q-k.bottom)),E(p.y)}requestAnimationFrame(C)}e(),requestAnimationFrame(A=>{y=A,C(A)})}const ye=""+new URL("scroll-top1-BQZEsIAG.webp",import.meta.url).href,Ae=""+new URL("scroll-top10-DcCbuvWi.webp",import.meta.url).href,ve=""+new URL("scroll-top11-QNvXgt9S.webp",import.meta.url).href,Le=""+new URL("scroll-top2-vwk8Q1ZM.webp",import.meta.url).href,Ee=""+new URL("scroll-top3-C1eQfQoV.webp",import.meta.url).href,Se=""+new URL("scroll-top4-CsqfIIxI.webp",import.meta.url).href,Ce=""+new URL("scroll-top5-qpHcfiK7.webp",import.meta.url).href,ke=""+new URL("scroll-top6-CC9bC69l.webp",import.meta.url).href,Ie=""+new URL("scroll-top7-NkrdJKKk.webp",import.meta.url).href,Re=""+new URL("scroll-top8-B601iB7f.webp",import.meta.url).href,Pe=""+new URL("scroll-top9-Cc7UngRv.webp",import.meta.url).href,_e=""+new URL("scroll-bottom1-D4gkaR3r.webp",import.meta.url).href,Me=""+new URL("scroll-bottom10-D6YRfuo0.webp",import.meta.url).href,Qe=""+new URL("scroll-bottom11-C_sCGISz.webp",import.meta.url).href,Je=""+new URL("scroll-bottom2-DRdsIBay.webp",import.meta.url).href,Oe=""+new URL("scroll-bottom3-fgrvHeWI.webp",import.meta.url).href,xe=""+new URL("scroll-bottom4-TuErZs54.webp",import.meta.url).href,Te=""+new URL("scroll-bottom5-BsBbwWJk.webp",import.meta.url).href,Ye=""+new URL("scroll-bottom6-AKc8u1_i.webp",import.meta.url).href,He=""+new URL("scroll-bottom7-CUSxcY6z.webp",import.meta.url).href,qe=""+new URL("scroll-bottom8-DZrcX_yq.webp",import.meta.url).href,De=""+new URL("scroll-bottom9-BEBT84wZ.webp",import.meta.url).href;let ee=!1;function Ue(){if(ee)return;const s=document.querySelector(".js-scroll-top .js-scroll-track"),r=document.querySelector(".js-scroll-bottom .js-scroll-track"),d=document.querySelector("#image-scroll");if(!s||!r){console.warn("Scroll tracks not found");return}const a=Object.assign({"../../../images/scroll-top/scroll-top1.webp":ye,"../../../images/scroll-top/scroll-top10.webp":Ae,"../../../images/scroll-top/scroll-top11.webp":ve,"../../../images/scroll-top/scroll-top2.webp":Le,"../../../images/scroll-top/scroll-top3.webp":Ee,"../../../images/scroll-top/scroll-top4.webp":Se,"../../../images/scroll-top/scroll-top5.webp":Ce,"../../../images/scroll-top/scroll-top6.webp":ke,"../../../images/scroll-top/scroll-top7.webp":Ie,"../../../images/scroll-top/scroll-top8.webp":Re,"../../../images/scroll-top/scroll-top9.webp":Pe}),c=Object.assign({"../../../images/scroll-bottom/scroll-bottom1.webp":_e,"../../../images/scroll-bottom/scroll-bottom10.webp":Me,"../../../images/scroll-bottom/scroll-bottom11.webp":Qe,"../../../images/scroll-bottom/scroll-bottom2.webp":Je,"../../../images/scroll-bottom/scroll-bottom3.webp":Oe,"../../../images/scroll-bottom/scroll-bottom4.webp":xe,"../../../images/scroll-bottom/scroll-bottom5.webp":Te,"../../../images/scroll-bottom/scroll-bottom6.webp":Ye,"../../../images/scroll-bottom/scroll-bottom7.webp":He,"../../../images/scroll-bottom/scroll-bottom8.webp":qe,"../../../images/scroll-bottom/scroll-bottom9.webp":De}),n=(m,p)=>m.map(([b,h])=>{const e=b.match(p);return{src:h,index:e?Number(e[1]):0}}).sort((b,h)=>b.index-h.index),o=n(Object.entries(a),/scroll-top(\d+)\.webp$/),i=n(Object.entries(c),/scroll-bottom(\d+)\.webp$/);if(!o.length||!i.length){console.warn("Scroll images not found");return}const l=2,u=[],g=(m,p,b)=>{for(let h=0;h<l;h++)p.forEach(({src:e,index:E})=>{const w=document.createElement("img");w.src=e,w.alt=`${b} ${E}`,w.loading="lazy",m.appendChild(w);const y=new Promise(C=>{if(w.complete&&w.naturalWidth){C();return}w.onload=()=>C(),w.onerror=()=>C()});u.push(y)})};g(s,o,"Scroll top"),g(r,i,"Scroll bottom"),Promise.all(u).then(()=>{d&&d.classList.add("image-scroll--ready")}),ee=!0}(()=>{const s=document.querySelector(".js-header"),r=document.querySelector(".js-logo"),d=r?.querySelector(".js-logo-img"),a=document.querySelector(".js-menu-toggle"),c=document.querySelector(".js-nav-circular"),n=document.querySelector(".js-hero-backdrop"),o=document.querySelector(".js-hero-scroll"),i=o?.querySelector(".js-hero-viewport")||null;if(!s||!r||!d||!a||!c)return;a.parentElement!==document.body&&document.body.appendChild(a),a.setAttribute("aria-expanded","false");const l=pe(o,i),u=fe(r,d,n),g=be(),{evaluateMenuToggleContrast:m}=ge(c,a,s,g,n)||{};he(),we();let p=window.pageYOffset,b=!1;const h=()=>document.body.classList.contains("nav-open"),e=()=>{const y=window.pageYOffset,C=y-p;h()||(C>6&&y>120?s.setAttribute("data-hidden","true"):(C<-6||y<=120)&&s.setAttribute("data-hidden","false")),p=y,l&&l(),u&&u(),m&&m()},E=()=>{b||(window.requestAnimationFrame(()=>{e(),b=!1}),b=!0)};window.addEventListener("scroll",E,{passive:!0}),window.addEventListener("resize",()=>window.requestAnimationFrame(()=>{l&&l(),u&&u(),m&&m()}));const w=()=>{l&&l(),u&&u(),m&&m(),Ue()};document.addEventListener("DOMContentLoaded",w),window.addEventListener("load",w),w()})();
//# sourceMappingURL=index-ssnHlp9g.js.map
