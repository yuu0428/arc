{"version":3,"file":"index-DQHB3Ner.js","sources":["../../src/js/modules/utils.js","../../src/js/modules/hero.js","../../images/logo1.webp","../../images/logo11.webp","../../src/js/modules/logo.js","../../src/js/modules/navigation.js","../../src/js/modules/scroll-reveal.js","../../src/js/modules/anchor.js","../../src/js/modules/fall-sim.js","../../images/scroll-top/scroll-top1.webp","../../images/scroll-top/scroll-top10.webp","../../images/scroll-top/scroll-top11.webp","../../images/scroll-top/scroll-top2.webp","../../images/scroll-top/scroll-top3.webp","../../images/scroll-top/scroll-top4.webp","../../images/scroll-top/scroll-top5.webp","../../images/scroll-top/scroll-top6.webp","../../images/scroll-top/scroll-top7.webp","../../images/scroll-top/scroll-top8.webp","../../images/scroll-top/scroll-top9.webp","../../images/scroll-bottom/scroll-bottom1.webp","../../images/scroll-bottom/scroll-bottom10.webp","../../images/scroll-bottom/scroll-bottom11.webp","../../images/scroll-bottom/scroll-bottom2.webp","../../images/scroll-bottom/scroll-bottom3.webp","../../images/scroll-bottom/scroll-bottom4.webp","../../images/scroll-bottom/scroll-bottom5.webp","../../images/scroll-bottom/scroll-bottom6.webp","../../images/scroll-bottom/scroll-bottom7.webp","../../images/scroll-bottom/scroll-bottom8.webp","../../images/scroll-bottom/scroll-bottom9.webp","../../src/js/modules/image-scroll.js","../../src/js/main.js"],"sourcesContent":["export const clamp01 = (value) => Math.max(0, Math.min(1, value));\n\nexport const parseRGB = (value) => {\n  if (!value) return null;\n  const match = value.match(/rgba?\\(([^)]+)\\)/);\n  if (!match) return null;\n  const parts = match[1].split(',').map((item) => item.trim());\n  if (parts.length < 3) return null;\n  const r = Number(parts[0]);\n  const g = Number(parts[1]);\n  const b = Number(parts[2]);\n  const a = parts[3] !== undefined ? Number(parts[3]) : 1;\n  if ([r, g, b, a].some((component) => Number.isNaN(component))) {\n    return null;\n  }\n  return { r, g, b, a };\n};\n\nexport const resolveBackgroundColor = (element, depth = 0) => {\n  if (!element || depth > 10) {\n    return parseRGB(getComputedStyle(document.body).backgroundColor) || { r: 255, g: 255, b: 255, a: 1 };\n  }\n\n  const style = getComputedStyle(element);\n  const color = parseRGB(style.backgroundColor);\n  if (color && color.a > 0 && style.backgroundImage === 'none') {\n    return color;\n  }\n  return resolveBackgroundColor(element.parentElement, depth + 1);\n};\n\nexport const sampleColorAtPoint = (x, y, ignoreElements = [], heroBackdrop) => {\n  if (heroBackdrop) {\n    const heroRect = heroBackdrop.getBoundingClientRect();\n    if (x >= heroRect.left && x <= heroRect.right && y >= heroRect.top && y <= heroRect.bottom) {\n      const backdropColor = parseRGB(getComputedStyle(heroBackdrop).backgroundColor);\n      if (backdropColor) {\n        return backdropColor;\n      }\n    }\n  }\n\n  const suppressed = [];\n  ignoreElements.forEach((element) => {\n    if (!(element instanceof Element)) {\n      return;\n    }\n    suppressed.push({ element, previous: element.style.pointerEvents });\n    element.style.pointerEvents = 'none';\n  });\n\n  let elementBeneath = null;\n  try {\n    elementBeneath = document.elementFromPoint(x, y);\n  } catch (error) {\n    elementBeneath = null;\n  } finally {\n    suppressed.forEach(({ element, previous }) => {\n      element.style.pointerEvents = previous;\n    });\n  }\n\n  return resolveBackgroundColor(elementBeneath) || resolveBackgroundColor(document.body);\n};\n\nexport const shortestAngle = (from, to) => {\n  let diff = to - from;\n  while (diff > 180) diff -= 360;\n  while (diff < -180) diff += 360;\n  return diff;\n};\n\nexport const normalizeAngle = (angle) => {\n  const normalized = ((angle % 360) + 360) % 360;\n  return normalized > 180 ? normalized - 360 : normalized;\n};\n","import { clamp01 } from './utils.js';\n\nexport function initializeHero(heroScrollSection, heroViewport) {\n  if (!heroScrollSection || !heroViewport) {\n    return () => {};\n  }\n\n  let heroProgress = 0;\n  let heroReleased = false;\n\n  const updateHeroProgress = () => {\n    const sectionRect = heroScrollSection.getBoundingClientRect();\n    const viewportHeight = window.innerHeight || heroViewport.getBoundingClientRect().height || 1;\n    const nextProgress = clamp01(-sectionRect.top / viewportHeight);\n\n    if (Math.abs(nextProgress - heroProgress) > 0.001) {\n      heroProgress = nextProgress;\n      heroScrollSection.style.setProperty('--hero-progress', heroProgress.toFixed(4));\n    }\n\n    const shouldRelease = heroProgress >= 0.98;\n    if (shouldRelease !== heroReleased) {\n      heroReleased = shouldRelease;\n      heroScrollSection.classList.toggle('is-released', heroReleased);\n      heroScrollSection.classList.toggle('is-dismissed', heroReleased);\n    }\n  };\n\n  return updateHeroProgress;\n}\n","export default \"data:image/webp;base64,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\"","export default \"data:image/webp;base64,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\"","import { sampleColorAtPoint } from './utils.js';\nimport logoDefault from '../../../images/logo1.webp';\nimport logoDark from '../../../images/logo11.webp';\n\nexport function initializeLogo(logo, logoImg, heroBackdrop) {\n  if (!logo || !logoImg) return () => {};\n\n  let currentLogoMode = 'default';\n\n  logoImg.dataset.srcDefault = logoDefault;\n  logoImg.dataset.srcLight = logoDefault;\n  logoImg.dataset.srcDark = logoDark;\n\n  const resolveLogoAsset = (mode) => {\n    const dataset = logoImg.dataset;\n    const primaryKey = `src${mode.charAt(0).toUpperCase()}${mode.slice(1)}`;\n    const candidates = [dataset[primaryKey], dataset.srcDefault, dataset.srcLight, dataset.srcDark];\n    const assetPath = candidates.find((value) => typeof value === 'string' && value.trim().length > 0);\n    if (!assetPath) return '';\n    try {\n      return new URL(assetPath, window.location.href).href;\n    } catch (error) {\n      return assetPath;\n    }\n  };\n\n  const setLogoSourceForMode = (mode) => {\n    const absolutePath = resolveLogoAsset(mode);\n    if (!absolutePath || logoImg.src === absolutePath) return;\n    logoImg.src = absolutePath;\n    currentLogoMode = mode;\n  };\n\n  setLogoSourceForMode('default');\n\n  const evaluateLogoContrast = () => {\n    const rect = logo.getBoundingClientRect();\n    if (!rect.width || !rect.height) {\n      return;\n    }\n\n    const images = document.querySelectorAll('img');\n    const logoArea = rect.width * rect.height;\n    let maxOverlapRatio = 0;\n\n    images.forEach((img) => {\n      if (img === logoImg) return;\n      const imgRect = img.getBoundingClientRect();\n      if (\n        imgRect.bottom <= rect.top ||\n        imgRect.top >= rect.bottom ||\n        imgRect.right <= rect.left ||\n        imgRect.left >= rect.right\n      ) {\n        return;\n      }\n\n      const intersectLeft = Math.max(rect.left, imgRect.left);\n      const intersectTop = Math.max(rect.top, imgRect.top);\n      const intersectRight = Math.min(rect.right, imgRect.right);\n      const intersectBottom = Math.min(rect.bottom, imgRect.bottom);\n\n      const intersectWidth = Math.max(0, intersectRight - intersectLeft);\n      const intersectHeight = Math.max(0, intersectBottom - intersectTop);\n      const intersectArea = intersectWidth * intersectHeight;\n\n      const overlapRatio = intersectArea / logoArea;\n      if (overlapRatio > maxOverlapRatio) {\n        maxOverlapRatio = overlapRatio;\n      }\n    });\n\n    if (maxOverlapRatio >= 0.5) {\n      if (logo.dataset.theme !== 'dark') {\n        logo.dataset.theme = 'dark';\n      }\n      if (currentLogoMode !== 'dark') {\n        setLogoSourceForMode('dark');\n      }\n      return;\n    }\n\n    const sampleX = rect.left + rect.width / 2;\n    const sampleY = rect.top + rect.height / 2;\n\n    const sampledColor = sampleColorAtPoint(sampleX, sampleY, [logo], heroBackdrop);\n\n    const { r, g, b } = sampledColor || { r: 255, g: 255, b: 255, a: 1 };\n    const luminance = (0.2126 * r + 0.7152 * g + 0.0722 * b) / 255;\n\n    let theme;\n    if (luminance >= 0.65) {\n      theme = 'light';\n    } else if (luminance <= 0.35) {\n      theme = 'dark';\n    } else {\n      theme = 'mid';\n    }\n\n    if (logo.dataset.theme !== theme) {\n      logo.dataset.theme = theme;\n    }\n\n    const nextMode = theme === 'dark' ? 'dark' : theme === 'light' ? 'light' : 'default';\n    if (currentLogoMode !== nextMode) {\n      setLogoSourceForMode(nextMode);\n    }\n  };\n\n  return evaluateLogoContrast;\n}\n","import { normalizeAngle, shortestAngle, sampleColorAtPoint } from './utils.js';\n\nexport function initializeCircularNav(circularNav, menuToggleButton, header, anchorRevealController, heroBackdrop) {\n  const overlay = circularNav;\n  const wheel = overlay.querySelector('[data-nav-wheel]');\n  const backdrop = overlay.querySelector('.js-nav-backdrop');\n  if (!wheel) return;\n\n  const items = Array.from(wheel.querySelectorAll('[data-nav-item]'));\n  if (!items.length) return;\n\n  let guide = overlay.querySelector('.js-nav-guide');\n  if (!guide) {\n    guide = document.createElement('div');\n    guide.className = 'nav-circular__guide js-nav-guide';\n    overlay.appendChild(guide);\n  }\n\n  const menuState = { isOpen: false };\n  const gapAngle = 24;\n  const arcSpan = 360 - gapAngle;\n  const targetAngleOffset = 180;\n  const displayOffset = -8;\n\n  const navState = {\n    rotation: 0,\n    lastAngle: 0,\n    pointerId: null,\n    isDragging: false,\n    startRotation: 0,\n    didDrag: false,\n    radius: 0,\n    snapTimer: null,\n    hideTimer: null,\n    resizeTimer: null,\n    baseAngles: [],\n    step: 0,\n    gapAngle,\n    arcSpan,\n    targetAngleOffset,\n    displayOffset,\n  };\n\n  if (items.length === 1) {\n    navState.baseAngles = [0];\n    navState.step = 360;\n  } else {\n    navState.step = -360 / items.length;\n    navState.baseAngles = items.map((_, index) => index * navState.step);\n    const desiredGapCenter = -150;\n    const lastBaseAngle = navState.baseAngles[items.length - 1] ?? 0;\n    const gapCenterWithoutRotation = lastBaseAngle + navState.step / 2;\n    navState.rotation = normalizeAngle(desiredGapCenter - gapCenterWithoutRotation + navState.targetAngleOffset);\n\n    const firstTargetAngle = navState.baseAngles[0];\n    const currentAngle = normalizeAngle(firstTargetAngle + navState.rotation);\n    const correction = normalizeAngle(navState.targetAngleOffset - currentAngle);\n    navState.rotation += correction;\n  }\n\n  let lastFocused = null;\n  let guideShown = false;\n  const preventScroll = event => {\n    if (!menuState.isOpen) return;\n    event.preventDefault();\n    event.stopPropagation();\n  };\n\n  const closeTargets = overlay.querySelectorAll('[data-nav-close]');\n\n  menuToggleButton.addEventListener('click', () => {\n    const expanded = menuToggleButton.getAttribute('aria-expanded') === 'true';\n    if (expanded) {\n      closeNav();\n    } else {\n      openNav();\n    }\n  });\n\n  closeTargets.forEach((element) => {\n    element.addEventListener('click', () => {\n      closeNav();\n    });\n  });\n\n  overlay.addEventListener('transitionend', (event) => {\n    if (event.target !== overlay || event.propertyName !== 'opacity') return;\n    if (!menuState.isOpen) {\n      overlay.hidden = true;\n      overlay.setAttribute('aria-hidden', 'true');\n    }\n  });\n\n  wheel.addEventListener('pointerdown', handlePointerDown);\n  wheel.addEventListener('pointermove', handlePointerMove);\n  wheel.addEventListener('pointerup', handlePointerUp);\n  wheel.addEventListener('pointercancel', handlePointerUp);\n  wheel.addEventListener('pointerleave', handlePointerUp);\n  wheel.addEventListener('wheel', handleWheel, { passive: false });\n\n  window.addEventListener('resize', handleResize);\n\n  items.forEach((item) => {\n    item.addEventListener('click', (event) => {\n      if (navState.didDrag) {\n        navState.didDrag = false;\n        return;\n      }\n\n      event.preventDefault();\n      const targetSelector = item.getAttribute('data-target');\n      if (targetSelector) {\n        const target = document.querySelector(targetSelector);\n        if (target) {\n          if (anchorRevealController) {\n            anchorRevealController.handleManualTrigger(targetSelector);\n          }\n          target.scrollIntoView({ behavior: 'smooth', block: 'start' });\n        }\n      }\n      closeNav();\n    });\n  });\n\n  const evaluateMenuToggleContrast = () => {\n    const rect = menuToggleButton.getBoundingClientRect();\n    if (!rect.width || !rect.height) {\n      return;\n    }\n\n    const images = document.querySelectorAll('img');\n    let maxOverlapRatio = 0;\n\n    const buttonArea = rect.width * rect.height;\n\n    for (const img of images) {\n      const imgRect = img.getBoundingClientRect();\n      if (\n        imgRect.bottom > rect.top &&\n        imgRect.top < rect.bottom &&\n        imgRect.right > rect.left &&\n        imgRect.left < rect.right\n      ) {\n        const intersectLeft = Math.max(rect.left, imgRect.left);\n        const intersectTop = Math.max(rect.top, imgRect.top);\n        const intersectRight = Math.min(rect.right, imgRect.right);\n        const intersectBottom = Math.min(rect.bottom, imgRect.bottom);\n\n        const intersectWidth = Math.max(0, intersectRight - intersectLeft);\n        const intersectHeight = Math.max(0, intersectBottom - intersectTop);\n        const intersectArea = intersectWidth * intersectHeight;\n\n        const overlapRatio = intersectArea / buttonArea;\n        if (overlapRatio > maxOverlapRatio) {\n          maxOverlapRatio = overlapRatio;\n        }\n      }\n    }\n\n    if (maxOverlapRatio >= 0.5) {\n      menuToggleButton.classList.add('is-inverted');\n      return;\n    }\n\n    const sampleX = rect.left + rect.width / 2;\n    const sampleY = rect.top + rect.height / 2;\n\n    const sampledColor = sampleColorAtPoint(sampleX, sampleY, [menuToggleButton], heroBackdrop);\n    const { r, g, b } = sampledColor || { r: 255, g: 255, b: 255, a: 1 };\n    const luminance = (0.2126 * r + 0.7152 * g + 0.0722 * b) / 255;\n    const shouldInvert = luminance <= 0.35;\n    menuToggleButton.classList.toggle('is-inverted', shouldInvert);\n  };\n\n  function openNav() {\n    if (menuState.isOpen) return;\n    lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;\n    overlay.hidden = false;\n    overlay.setAttribute('aria-hidden', 'false');\n    requestAnimationFrame(() => {\n      overlay.classList.add('is-visible');\n      requestAnimationFrame(() => {\n        updateWheel(true);\n      });\n    });\n    menuState.isOpen = true;\n    header.setAttribute('data-hidden', 'false');\n    document.body.classList.add('nav-open');\n    document.body.style.setProperty('overflow', 'hidden');\n    overlay.addEventListener('wheel', preventScroll, { passive: false });\n    overlay.addEventListener('touchmove', preventScroll, { passive: false });\n    wheel.addEventListener('touchmove', preventScroll, { passive: false });\n    backdrop?.addEventListener('touchmove', preventScroll, { passive: false });\n    menuToggleButton.setAttribute('aria-expanded', 'true');\n    menuToggleButton.setAttribute('aria-label', 'メニューを閉じる');\n    evaluateMenuToggleContrast();\n    focusActiveItem();\n    document.addEventListener('keydown', handleKeydown);\n    showGuideOnce();\n  }\n\n  function closeNav() {\n    if (!menuState.isOpen) return;\n    menuState.isOpen = false;\n    overlay.classList.remove('is-visible');\n    overlay.setAttribute('aria-hidden', 'true');\n    menuToggleButton.setAttribute('aria-expanded', 'false');\n    menuToggleButton.setAttribute('aria-label', 'メニューを開く');\n    document.body.classList.remove('nav-open');\n    document.body.style.removeProperty('overflow');\n    overlay.removeEventListener('wheel', preventScroll, { passive: false });\n    overlay.removeEventListener('touchmove', preventScroll, { passive: false });\n    wheel.removeEventListener('touchmove', preventScroll, { passive: false });\n    backdrop?.removeEventListener('touchmove', preventScroll, { passive: false });\n    document.removeEventListener('keydown', handleKeydown);\n    wheel.classList.remove('is-dragging');\n    navState.isDragging = false;\n    navState.pointerId = null;\n    navState.didDrag = false;\n    window.clearTimeout(navState.snapTimer);\n    window.clearTimeout(navState.resizeTimer);\n    window.clearTimeout(navState.hideTimer);\n    navState.snapTimer = null;\n    navState.resizeTimer = null;\n    navState.hideTimer = window.setTimeout(() => {\n      if (!menuState.isOpen) {\n        overlay.hidden = true;\n        overlay.setAttribute('aria-hidden', 'true');\n      }\n    }, 260);\n\n    if (lastFocused && typeof lastFocused.focus === 'function') {\n      lastFocused.focus({ preventScroll: true });\n    } else {\n      menuToggleButton.focus({ preventScroll: true });\n    }\n    evaluateMenuToggleContrast();\n  }\n\n  function handleKeydown(event) {\n    if (!menuState.isOpen) return;\n    if (event.key === 'Escape') {\n      event.preventDefault();\n      closeNav();\n      return;\n    }\n\n    if (event.key === 'ArrowRight' || event.key === 'ArrowDown') {\n      event.preventDefault();\n      rotateBy(-navState.step);\n    } else if (event.key === 'ArrowLeft' || event.key === 'ArrowUp') {\n      event.preventDefault();\n      rotateBy(navState.step);\n    }\n  }\n\n  function handlePointerDown(event) {\n    if (event.pointerType === 'mouse' && event.button !== 0) {\n      return;\n    }\n\n    navState.isDragging = true;\n    navState.pointerId = event.pointerId;\n    navState.startRotation = navState.rotation;\n    navState.lastAngle = getPointerAngle(event);\n    navState.didDrag = false;\n    wheel.classList.add('is-dragging');\n    if (wheel.setPointerCapture) {\n      wheel.setPointerCapture(event.pointerId);\n    }\n  }\n\n  function handlePointerMove(event) {\n    if (!navState.isDragging || navState.pointerId !== event.pointerId) {\n      return;\n    }\n\n    const angle = getPointerAngle(event);\n    if (Number.isNaN(angle)) return;\n\n    const delta = shortestAngle(navState.lastAngle, angle);\n    navState.rotation += delta;\n    navState.lastAngle = angle;\n\n    if (Math.abs(navState.rotation - navState.startRotation) > navState.step * 0.08) {\n      navState.didDrag = true;\n    }\n\n    updateWheel();\n  }\n\n  function handlePointerUp(event) {\n    if (!navState.isDragging || (navState.pointerId !== null && navState.pointerId !== event.pointerId)) {\n      return;\n    }\n\n    navState.isDragging = false;\n    navState.pointerId = null;\n    wheel.classList.remove('is-dragging');\n\n    if (wheel.releasePointerCapture && event.pointerId !== undefined) {\n      wheel.releasePointerCapture(event.pointerId);\n    }\n\n    snapToActive();\n    navState.didDrag = false;\n  }\n\n  function handleWheel(event) {\n    event.preventDefault();\n    const delta = Math.abs(event.deltaY) > Math.abs(event.deltaX) ? event.deltaY : event.deltaX;\n    if (Number.isNaN(delta)) return;\n\n    navState.rotation += delta * 0.22;\n    navState.didDrag = true;\n    updateWheel();\n  }\n\n  function handleResize() {\n    if (!menuState.isOpen) return;\n    window.clearTimeout(navState.resizeTimer);\n    navState.resizeTimer = window.setTimeout(() => {\n      navState.radius = 0;\n      updateWheel(true);\n    }, 140);\n  }\n\n  function rotateBy(amount) {\n    navState.rotation += amount;\n    navState.didDrag = true;\n    updateWheel();\n    scheduleSnap();\n  }\n\n  function scheduleSnap() {\n    window.clearTimeout(navState.snapTimer);\n    navState.snapTimer = window.setTimeout(() => {\n      snapToActive();\n      navState.didDrag = false;\n    }, 260);\n  }\n\n  function snapToActive() {\n    const index = getActiveItemIndex();\n    if (index === null) return;\n\n    const targetAngle = navState.baseAngles[index];\n    const current = normalizeAngle(\n      targetAngle + navState.rotation + navState.displayOffset - navState.targetAngleOffset\n    );\n    navState.rotation -= current;\n    updateWheel();\n    focusActiveItem();\n  }\n\n  function focusActiveItem() {\n    const index = getActiveItemIndex();\n    const item = items[index] || items[0];\n    if (item) {\n      item.focus({ preventScroll: true });\n    }\n  }\n\n  function updateWheel(force = false) {\n    const rect = wheel.getBoundingClientRect();\n    if (!rect.width || !rect.height) {\n      return;\n    }\n\n    if (force || !navState.radius) {\n      navState.radius = Math.max(rect.width / 2 - 100, rect.width * 0.46);\n    }\n\n    const activeIndex = getActiveItemIndex();\n    const stepMagnitude = Math.abs(navState.step) || 1;\n\n    items.forEach((item, index) => {\n      const baseAngle = navState.baseAngles[index] ?? 0;\n      const angle = baseAngle + navState.rotation;\n      const displayAngle = angle + navState.displayOffset;\n      const distance = Math.abs(normalizeAngle(displayAngle - navState.targetAngleOffset));\n\n      const proximity = Math.max(0, 1 - Math.min(distance / (stepMagnitude * 1.1), 1));\n      const isActive = index === activeIndex;\n      \n      // Active item always gets maximum scale (1.06), others are scaled by proximity\n      const scale = isActive ? 1.06 : (0.84 + proximity * 0.22);\n      const opacity = isActive ? 1 : 0.85;\n\n      const itemDistance = Math.max(navState.radius * 0.75, navState.radius - 60);\n      const transform = `translate(-50%, -40%) rotate(${displayAngle.toFixed(3)}deg) translateX(${itemDistance.toFixed(3)}px) rotate(${(180 - navState.displayOffset).toFixed(3)}deg) scale(${scale.toFixed(3)})`;\n      item.style.transform = transform;\n      item.style.opacity = opacity;\n      item.style.zIndex = String(100 + Math.round(proximity * 100));\n      item.classList.toggle('is-active', isActive);\n      item.setAttribute('tabindex', isActive ? '0' : '-1');\n    });\n\n    const toPositive = (value) => ((value % 360) + 360) % 360;\n    if (items.length >= 2) {\n      const base0 = navState.baseAngles[0] ?? 0;\n      const displayAngle0 = toPositive(base0 + navState.rotation + navState.displayOffset);\n      const gapCenter = toPositive(displayAngle0 + navState.step / 2);\n      const arcStart = toPositive(gapCenter + navState.gapAngle / 2 + 105);\n      wheel.style.setProperty('--nav-arc-start', `${arcStart}deg`);\n    }\n\n    wheel.style.setProperty('--nav-arc-span', `${navState.arcSpan}deg`);\n  }\n\n  function getActiveItemIndex() {\n    let indexOfActive = 0;\n    let minDistance = Number.POSITIVE_INFINITY;\n\n    items.forEach((_, index) => {\n      const angle = navState.baseAngles[index] + navState.rotation + navState.displayOffset;\n      const distance = Math.abs(normalizeAngle(angle - navState.targetAngleOffset));\n      if (distance < minDistance) {\n        minDistance = distance;\n        indexOfActive = index;\n      }\n    });\n\n    return indexOfActive;\n  }\n\n  function getPointerAngle(event) {\n    const rect = wheel.getBoundingClientRect();\n    const cx = rect.left + rect.width / 2;\n    const cy = rect.top + rect.height / 2;\n    const radians = Math.atan2(event.clientY - cy, event.clientX - cx);\n    return radians * (180 / Math.PI);\n  }\n\n  function showGuideOnce() {\n    if (guideShown || !guide) return;\n    const isMobile = window.matchMedia('(max-width: 600px)').matches;\n    guide.textContent = isMobile\n      ? '左右スワイプで選択、タップで決定、外側タップか×で閉じる'\n      : '←/→ で移動、Enterで決定、Escで閉じる';\n    guide.classList.add('is-visible');\n    guideShown = true;\n    window.setTimeout(() => {\n      guide?.classList.remove('is-visible');\n    }, 2800);\n  }\n\n  return {\n    evaluateMenuToggleContrast\n  };\n}\n","import { clamp01 } from './utils.js';\n\nexport function initializeScrollReveal() {\n  const elementsToReveal = [\n    ...document.querySelectorAll(\n      '.js-about-heading, .js-about-text, .js-about-image, .js-person-card, .js-note-card, .js-scroll-top, .js-scroll-bottom'\n    ),\n  ];\n  const noteCard = document.querySelector('.js-note-card');\n  const noteElements = new Set(\n    ['js-note-card', 'js-scroll-top', 'js-scroll-bottom']\n      .map((className) => `.${className}`)\n      .flatMap((selector) => Array.from(document.querySelectorAll(selector)))\n  );\n  \n  if (!elementsToReveal.length) {\n    return;\n  }\n\n  const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)');\n  const harutoElement = document.querySelector('.js-person-card[data-person=\"haruto\"]');\n  const rikoElement = document.querySelector('.js-person-card[data-person=\"riko\"]');\n\n  const computeProgress = (element, viewportHeight, targetY, range) => {\n    const rect = element.getBoundingClientRect();\n    const centerY = rect.top + rect.height / 2;\n    const distanceBelowCenter = Math.max(0, centerY - targetY);\n    return clamp01(1 - distanceBelowCenter / range);\n  };\n\n  const updateFade = () => {\n    if (prefersReducedMotion.matches || !document.body.classList.contains('has-scroll-reveal')) {\n      elementsToReveal.forEach((target) => target.style.removeProperty('--scroll-fade-progress'));\n      return;\n    }\n\n    const viewportHeight = window.innerHeight || 1;\n    const targetY = viewportHeight * 0.65;\n    const range = Math.max(1, viewportHeight * 0.35);\n\n    const sharedProgress =\n      harutoElement && harutoElement.isConnected\n        ? computeProgress(harutoElement, viewportHeight, targetY, range)\n        : null;\n    const noteProgress =\n      noteCard && noteCard.isConnected ? computeProgress(noteCard, viewportHeight, targetY, range) : null;\n\n    elementsToReveal.forEach((target) => {\n      let progress;\n      if (sharedProgress !== null && (target === harutoElement || target === rikoElement)) {\n        progress = sharedProgress;\n      } else if (noteProgress !== null && noteElements.has(target)) {\n        progress = noteProgress;\n      } else {\n        progress = computeProgress(target, viewportHeight, targetY, range);\n      }\n      target.style.setProperty('--scroll-fade-progress', progress.toFixed(3));\n    });\n  };\n\n  const applyMotionPreference = () => {\n    if (prefersReducedMotion.matches) {\n      document.body.classList.remove('has-scroll-reveal');\n      elementsToReveal.forEach((target) => target.style.removeProperty('--scroll-fade-progress'));\n    } else {\n      document.body.classList.add('has-scroll-reveal');\n      updateFade();\n    }\n  };\n\n  applyMotionPreference();\n  prefersReducedMotion.addEventListener('change', applyMotionPreference);\n  window.addEventListener('scroll', () => {\n    window.requestAnimationFrame(updateFade);\n  }, { passive: true });\n  window.addEventListener('resize', () => {\n    window.requestAnimationFrame(updateFade);\n  });\n  updateFade();\n}\n","export function initializeAnchorRevealOverride() {\n  const greetingsElements = Array.from(document.querySelectorAll('.js-person-card'));\n  const anchorMap = new Map();\n  if (greetingsElements.length) {\n    anchorMap.set('#greatings', { elements: greetingsElements, timer: null });\n  }\n  if (!anchorMap.size) {\n    return null;\n  }\n\n  const ACTIVE_CLASS = 'anchor-jump-visible';\n  const HOLD_DURATION = 1200;\n\n  const applyForSelector = (selector) => {\n    if (typeof selector !== 'string' || !anchorMap.has(selector)) {\n      return;\n    }\n    const entry = anchorMap.get(selector);\n    if (!entry) return;\n    window.clearTimeout(entry.timer);\n    entry.elements.forEach((element) => element.classList.add(ACTIVE_CLASS));\n    entry.timer = window.setTimeout(() => {\n      entry.elements.forEach((element) => element.classList.remove(ACTIVE_CLASS));\n    }, HOLD_DURATION);\n  };\n\n  const handleAnchorClick = (event) => {\n    const target = event.target instanceof Element ? event.target : null;\n    if (!target) return;\n    const anchor = target.closest('a[href^=\"#\"]');\n    if (!anchor) return;\n    const href = anchor.getAttribute('href');\n    applyForSelector(href);\n  };\n\n  document.addEventListener('click', handleAnchorClick, true);\n  window.addEventListener('hashchange', () => {\n    applyForSelector(window.location.hash);\n  });\n  window.addEventListener('load', () => {\n    applyForSelector(window.location.hash);\n  });\n\n  return {\n    handleManualTrigger: (selector) => {\n      applyForSelector(selector);\n    },\n  };\n}\n","export function initializeFallSim() {\n  const ENABLE_FALL_SIM = true;\n  if (!ENABLE_FALL_SIM) return;\n\n  const person = document.querySelector('.js-walking-person');\n  const circle = document.querySelector('.js-circle');\n  const floorEl = document.querySelector('.js-floor');\n  if (!person || !circle || !floorEl) return;\n\n  let fallState = 'idle'; // idle | falling | settled\n  let lastTriggerTurn = -1;\n  const angleOffset = -90; // align 0deg to top if needed\n  const triggerAngle = 280; // 欠けが真下に来る角度をさらに5度遅らせる\n  const triggerBuffer = 6; // tolerance\n  const rotationDurationMs = 18000; // spin-circle 18s\n  const triggerDelayMs = (triggerAngle / 360) * rotationDurationMs;\n  const gravity = 2000; // px/s^2\n  const restitution = 0.4;\n  const stopVelocity = 6;\n  const getPersonRect = () => person.getBoundingClientRect();\n\n  const state = {\n    y: 0,\n    v: 0,\n  };\n\n  function getFloorY() {\n    const rect = circle.getBoundingClientRect();\n    // 円の最下端よりさらに55px上げた位置から、さらに15px上げて合計70px→85px上げた位置を床とする\n    return rect.top + rect.height - 85;\n  }\n\n  function shouldTrigger(now) {\n    const elapsed = (now - startTime) % rotationDurationMs;\n    return elapsed >= triggerDelayMs - 120 && elapsed <= triggerDelayMs + 120;\n  }\n\n  function getAngleProgress(now) {\n    const elapsed = (now - startTime) % rotationDurationMs;\n    const angle = (elapsed / rotationDurationMs) * 360;\n    return ((angle + angleOffset) % 360 + 360) % 360;\n  }\n\n  function resetPerson() {\n    fallState = 'idle';\n    state.y = 0;\n    state.v = 0;\n    person.style.transform = `translate(-50%, 0)`;\n  }\n\n  function setPersonY(y) {\n    person.style.transform = `translate(-50%, ${y}px)`;\n  }\n\n  const startTime = performance.now();\n  let lastTime = startTime;\n  function tick(now) {\n    const dt = Math.min(32, now - lastTime) / 1000;\n    lastTime = now;\n\n    if (fallState === 'idle') {\n      const turn = Math.floor((now - startTime) / rotationDurationMs);\n      if (shouldTrigger(now) && turn !== lastTriggerTurn) {\n        fallState = 'falling';\n        lastTriggerTurn = turn;\n        state.y = 0;\n        state.v = 0;\n      }\n    } else if (fallState === 'falling') {\n      const personRect = getPersonRect();\n      state.v += gravity * dt;\n      state.y += state.v * dt;\n      const floor = getFloorY();\n      const personBottom = personRect.bottom + state.y;\n      if (personBottom >= floor) {\n        state.y = floor - personRect.bottom;\n        state.v = -state.v * restitution;\n        if (Math.abs(state.v) < stopVelocity) {\n          fallState = 'settled';\n          state.v = 0;\n          state.y = floor - personRect.bottom;\n        }\n      }\n      setPersonY(state.y);\n    }\n\n    requestAnimationFrame(tick);\n  }\n\n  resetPerson();\n  requestAnimationFrame((t) => {\n    lastTime = t;\n    tick(t);\n  });\n}\n","export default \"__VITE_ASSET__CIW0VjaF__\"","export default \"__VITE_ASSET__CEEJxfJy__\"","export default \"__VITE_ASSET__GYkGWBbi__\"","export default \"__VITE_ASSET__B3yv74B7__\"","export default \"__VITE_ASSET__B7IMAA_2__\"","export default \"__VITE_ASSET__BvUSsN4V__\"","export default \"__VITE_ASSET__Fz22F9VS__\"","export default \"__VITE_ASSET__CBitt5Pn__\"","export default \"__VITE_ASSET__MHbbp7Yt__\"","export default \"__VITE_ASSET__CU1CxQ49__\"","export default \"__VITE_ASSET__BqQRqtLN__\"","export default \"__VITE_ASSET__8gTEu6Rq__\"","export default \"__VITE_ASSET__BhsLM8HN__\"","export default \"__VITE_ASSET__CS4kzCyc__\"","export default \"__VITE_ASSET__B9b6ndTB__\"","export default \"__VITE_ASSET__BoqwbcHI__\"","export default \"__VITE_ASSET__CFYZ1PU4__\"","export default \"__VITE_ASSET__CsuijlrN__\"","export default \"__VITE_ASSET__et6q7XZa__\"","export default \"__VITE_ASSET__Cd4UV9Kt__\"","export default \"__VITE_ASSET__BK8MRHRH__\"","export default \"__VITE_ASSET__BUlRmchH__\"","let isInitialized = false;\n\nexport function initializeImageScroll() {\n  if (isInitialized) return;\n\n  const scrollTopTrack = document.querySelector('.js-scroll-top .js-scroll-track');\n  const scrollBottomTrack = document.querySelector('.js-scroll-bottom .js-scroll-track');\n  const imageScrollContainer = document.querySelector('#image-scroll');\n\n  if (!scrollTopTrack || !scrollBottomTrack) {\n    console.warn('Scroll tracks not found');\n    return;\n  }\n\n  const topImages = import.meta.glob('../../../images/scroll-top/*.webp', { eager: true, import: 'default' });\n  const bottomImages = import.meta.glob('../../../images/scroll-bottom/*.webp', { eager: true, import: 'default' });\n\n  const sortByIndex = (entries, pattern) =>\n    entries\n      .map(([path, src]) => {\n        const match = path.match(pattern);\n        return { src, index: match ? Number(match[1]) : 0 };\n      })\n      .sort((a, b) => a.index - b.index);\n\n  const topImageList = sortByIndex(Object.entries(topImages), /scroll-top(\\d+)\\.webp$/);\n  const bottomImageList = sortByIndex(Object.entries(bottomImages), /scroll-bottom(\\d+)\\.webp$/);\n\n  if (!topImageList.length || !bottomImageList.length) {\n    console.warn('Scroll images not found');\n    return;\n  }\n\n  const duplicateCount = 2;\n  const loadPromises = [];\n\n  const appendImages = (track, images, altPrefix) => {\n    for (let i = 0; i < duplicateCount; i++) {\n      images.forEach(({ src, index }) => {\n        const img = document.createElement('img');\n        img.src = src;\n        img.alt = `${altPrefix} ${index}`;\n        img.loading = 'lazy';\n        track.appendChild(img);\n        const loadPromise = new Promise((resolve) => {\n          if (img.complete && img.naturalWidth) {\n            resolve();\n            return;\n          }\n          img.onload = () => resolve();\n          img.onerror = () => resolve();\n        });\n        loadPromises.push(loadPromise);\n      });\n    }\n  };\n\n  appendImages(scrollTopTrack, topImageList, 'Scroll top');\n  appendImages(scrollBottomTrack, bottomImageList, 'Scroll bottom');\n\n  Promise.all(loadPromises).then(() => {\n    if (imageScrollContainer) {\n      imageScrollContainer.classList.add('image-scroll--ready');\n    }\n  });\n\n  isInitialized = true;\n}\n","import '../css/main.css';\nimport { initializeHero } from './modules/hero.js';\nimport { initializeLogo } from './modules/logo.js';\nimport { initializeCircularNav } from './modules/navigation.js';\nimport { initializeScrollReveal } from './modules/scroll-reveal.js';\nimport { initializeAnchorRevealOverride } from './modules/anchor.js';\nimport { initializeFallSim } from './modules/fall-sim.js';\nimport { initializeImageScroll } from './modules/image-scroll.js';\n\n(() => {\n  const header = document.querySelector('.js-header');\n  const logo = document.querySelector('.js-logo');\n  const logoImg = logo?.querySelector('.js-logo-img');\n  const menuToggleButton = document.querySelector('.js-menu-toggle');\n  const circularNav = document.querySelector('.js-nav-circular');\n  const heroBackdrop = document.querySelector('.js-hero-backdrop');\n  const heroScrollSection = document.querySelector('.js-hero-scroll');\n  const heroViewport = heroScrollSection?.querySelector('.js-hero-viewport') || null;\n\n  if (!header || !logo || !logoImg || !menuToggleButton || !circularNav) {\n    return;\n  }\n\n  if (menuToggleButton.parentElement !== document.body) {\n    document.body.appendChild(menuToggleButton);\n  }\n\n  menuToggleButton.setAttribute('aria-expanded', 'false');\n\n  const updateHeroProgress = initializeHero(heroScrollSection, heroViewport);\n  const evaluateLogoContrast = initializeLogo(logo, logoImg, heroBackdrop);\n  const anchorRevealController = initializeAnchorRevealOverride();\n  const { evaluateMenuToggleContrast } = initializeCircularNav(circularNav, menuToggleButton, header, anchorRevealController, heroBackdrop) || {};\n  initializeScrollReveal();\n  initializeFallSim();\n\n  let lastScrollY = window.pageYOffset;\n  let ticking = false;\n  const isMenuOpen = () => document.body.classList.contains('nav-open');\n\n  const handleScroll = () => {\n    const currentY = window.pageYOffset;\n    const delta = currentY - lastScrollY;\n\n    if (!isMenuOpen()) {\n      if (delta > 6 && currentY > 120) {\n        header.setAttribute('data-hidden', 'true');\n      } else if (delta < -6 || currentY <= 120) {\n        header.setAttribute('data-hidden', 'false');\n      }\n    }\n\n    lastScrollY = currentY;\n    if (updateHeroProgress) updateHeroProgress();\n    if (evaluateLogoContrast) evaluateLogoContrast();\n    if (evaluateMenuToggleContrast) evaluateMenuToggleContrast();\n  };\n\n  const onScroll = () => {\n    if (!ticking) {\n      window.requestAnimationFrame(() => {\n        handleScroll();\n        ticking = false;\n      });\n      ticking = true;\n    }\n  };\n\n  window.addEventListener('scroll', onScroll, { passive: true });\n  window.addEventListener(\n    'resize',\n    () =>\n      window.requestAnimationFrame(() => {\n        if (updateHeroProgress) updateHeroProgress();\n        if (evaluateLogoContrast) evaluateLogoContrast();\n        if (evaluateMenuToggleContrast) evaluateMenuToggleContrast();\n      })\n  );\n\n  const runInitialContrastCheck = () => {\n    if (updateHeroProgress) updateHeroProgress();\n    if (evaluateLogoContrast) evaluateLogoContrast();\n    if (evaluateMenuToggleContrast) evaluateMenuToggleContrast();\n    initializeImageScroll();\n  };\n\n  document.addEventListener('DOMContentLoaded', runInitialContrastCheck);\n  window.addEventListener('load', runInitialContrastCheck);\n  runInitialContrastCheck();\n\n})();\n"],"names":["clamp01","value","parseRGB","match","parts","item","r","g","b","a","component","resolveBackgroundColor","element","depth","style","color","sampleColorAtPoint","x","y","ignoreElements","heroBackdrop","heroRect","backdropColor","suppressed","elementBeneath","previous","shortestAngle","from","to","diff","normalizeAngle","angle","normalized","initializeHero","heroScrollSection","heroViewport","heroProgress","heroReleased","sectionRect","viewportHeight","nextProgress","shouldRelease","logoDefault","logoDark","initializeLogo","logo","logoImg","currentLogoMode","resolveLogoAsset","mode","dataset","primaryKey","assetPath","setLogoSourceForMode","absolutePath","rect","images","logoArea","maxOverlapRatio","img","imgRect","intersectLeft","intersectTop","intersectRight","intersectBottom","intersectWidth","intersectHeight","overlapRatio","sampleX","sampleY","sampledColor","luminance","theme","nextMode","initializeCircularNav","circularNav","menuToggleButton","header","anchorRevealController","overlay","wheel","backdrop","items","guide","menuState","gapAngle","arcSpan","navState","index","desiredGapCenter","gapCenterWithoutRotation","firstTargetAngle","currentAngle","correction","lastFocused","guideShown","preventScroll","event","closeTargets","closeNav","openNav","handlePointerDown","handlePointerMove","handlePointerUp","handleWheel","handleResize","targetSelector","target","evaluateMenuToggleContrast","buttonArea","shouldInvert","updateWheel","focusActiveItem","handleKeydown","showGuideOnce","rotateBy","getPointerAngle","delta","snapToActive","amount","scheduleSnap","getActiveItemIndex","targetAngle","current","force","activeIndex","stepMagnitude","displayAngle","distance","proximity","isActive","scale","opacity","itemDistance","transform","toPositive","base0","displayAngle0","gapCenter","arcStart","indexOfActive","minDistance","_","cx","cy","isMobile","initializeScrollReveal","elementsToReveal","noteCard","noteElements","className","selector","prefersReducedMotion","harutoElement","rikoElement","computeProgress","targetY","range","centerY","distanceBelowCenter","updateFade","sharedProgress","noteProgress","progress","applyMotionPreference","initializeAnchorRevealOverride","greetingsElements","anchorMap","ACTIVE_CLASS","HOLD_DURATION","applyForSelector","entry","handleAnchorClick","anchor","href","initializeFallSim","person","circle","floorEl","fallState","lastTriggerTurn","triggerAngle","rotationDurationMs","triggerDelayMs","gravity","restitution","stopVelocity","getPersonRect","state","getFloorY","shouldTrigger","now","elapsed","startTime","resetPerson","setPersonY","lastTime","tick","dt","turn","personRect","floor","t","__vite_glob_0_0","__vite_glob_0_1","__vite_glob_0_2","__vite_glob_0_3","__vite_glob_0_4","__vite_glob_0_5","__vite_glob_0_6","__vite_glob_0_7","__vite_glob_0_8","__vite_glob_0_9","__vite_glob_0_10","__vite_glob_1_0","__vite_glob_1_1","__vite_glob_1_2","__vite_glob_1_3","__vite_glob_1_4","__vite_glob_1_5","__vite_glob_1_6","__vite_glob_1_7","__vite_glob_1_8","__vite_glob_1_9","__vite_glob_1_10","isInitialized","initializeImageScroll","scrollTopTrack","scrollBottomTrack","imageScrollContainer","topImages","bottomImages","sortByIndex","entries","pattern","path","src","topImageList","bottomImageList","duplicateCount","loadPromises","appendImages","track","altPrefix","i","loadPromise","resolve","updateHeroProgress","evaluateLogoContrast","lastScrollY","ticking","isMenuOpen","handleScroll","currentY","onScroll","runInitialContrastCheck"],"mappings":"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"}